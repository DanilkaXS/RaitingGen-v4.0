<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>RaitingGen v4.0</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
        function send_data() {

            var listStudents = $("#listStudents").val().split("\n")

            var Discuplins = $("#listDiscuplin").val().split("\n")

            var listDiscuplin = []
            var credit = []

            console.log(Discuplins)

            for (let i = 0; i < $("#numberDiscuplin").val(); i++) {
                listDiscuplin.push(Discuplins[i].split("%")[0])
                credit.push(Discuplins[i].split("%")[1])
            }


            var result_return
            var data = {
                "navchYear": $("#navchYear").val(),
                "facultet": $("#facultet").val(),
                "facultetDescription": $("#facultetDescription").val(),
                "semestr": $("#semestr").val(),
                "group": $("#group").val(),
                "specName": $("#specName").val(),
                "course": $("#course").val(),
                "numberBadgetMist": $("#numberBadgetMist").val(),
                "numberStudents": $("#numberStudents").val(),

                "listStudents": listStudents,

                "numberDiscuplin": $("#numberDiscuplin").val(),

                "listDiscuplin": listDiscuplin,
                "credit": credit,
            }


            let send = $.ajax({
                url: '/',
                method: 'post',
                contentType: "application/json",
                dataType: 'json',
                data: JSON.stringify(data),
                async: false,
                success: function (result) {
                    result_return = result;
                }
            }).responseText;
            console.log(send)
            $("#body").append(`<a href='/download_file' ><button type='button' class='btn btn-primary' style='font-size: 20px'>‚è¨ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚è¨</button></a>`)
        }
    </script>
</head>
<body>

<div class="container mt-5">
    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-md-6 text-center">
                <h2 class="mb-4">‚úî RaitingGen v4.0 üëæ</h2>
            </div>
        </div>
    </div>



    <div class="form-group">
        <label for="navchYear">–ù–∞–≤—á–∞–ª—å–Ω–∏–π —Ä—ñ–∫</label>
        <input type="text" class="form-control" id="navchYear">
    </div>

    <div class="form-group">
        <label for="facultet">–Ü–Ω—ñ—Ü—ñ–∞–ª–∏ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç–∞</label>
        <input type="text" class="form-control" id="facultet">
    </div>

    <div class="form-group">
        <label for="facultetDescription">–ü–æ–≤–Ω–∞ –Ω–∞–∑–≤–∞ —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—É</label>
        <input type="text" class="form-control" id="facultetDescription">
    </div>

    <div class="form-group">
        <label for="semestr">–°–µ–º–µ—Å—Ç—Ä</label>
        <input type="text" class="form-control" id="semestr">
    </div>
    <div class="form-group">
        <label for="group">–ì—Ä—É–ø–∞</label>
        <input type="text" class="form-control" id="group">
    </div>
    <div class="form-group">
        <label for="specName">–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å</label>
        <input type="text" class="form-control" id="specName">
    </div>
    <div class="form-group">
        <label for="course">–ö—É—Ä—Å</label>
        <input type="text" class="form-control" id="course">
    </div>
    <div class="form-group">
        <label for="numberBadgetMist">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –±—é–¥–∂–µ—Ç–Ω–∏—Ö –º—ñ—Å—Ü—å</label>
        <input type="text" class="form-control" id="numberBadgetMist">
    </div>
    <div class="form-group">
        <label for="numberStudents">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</label>
        <input type="number" class="form-control" id="numberStudents">
    </div>
    <div class="form-group">
        <label for="listStudents">–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</label>
        <p class="form-control" id="listStudentsTEst">–ü—Ä–∏–∫–ª–∞–¥: <b>–¢–∏–º–æ—Ñ—î—î–≤ –î–∞–Ω–∏–ª–æ –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á%–±</b> –∞–±–æ <b>–¢–∏–º–æ—Ñ—î—î–≤
            –î–∞–Ω–∏–ª–æ
            –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á%–∫</b> –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –Ω–∞–≤—á–∞–Ω–Ω—è</p>
        <textarea class="form-control" id="listStudents" rows="1"></textarea>
    </div>
    <div class="form-group">
        <label for="numberDiscuplin">–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–∏—Å—Ü–∏–ø–ª—ñ–Ω</label>
        <input type="number" class="form-control" id="numberDiscuplin">
    </div>
    <div class="form-group">
        <label for="listDiscuplin">–°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤</label>
        <p class="form-control" id="listStudentsTEst">–ü—Ä–∏–∫–ª–∞–¥ <b>–î–∏—Å—Ü–∏–ø–ª—ñ–Ω–∞%4</b> –î–∏—Ü–∏–ø–ª—ñ–Ω–∞ —Ç–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫—Ä–µ–¥–∏—Ç—ñ–≤
            –æ–±–æ–≤'—è–∑–∫–æ–≤–æ —Ç—Ä–µ–±–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ </p>
        <textarea class="form-control" id="listDiscuplin" rows="1"></textarea>
    </div>

    <div class="container">
        <div class="row justify-content-center mt-5">
            <div class="col-md-6 text-center" id="body">
                <button class="btn btn-primary" onclick="send_data()">üëæ –°—Ç–≤–æ—Ä–∏—Ç–∏ üëæ</button>

            </div>
        </div>
    </div>


</div>
<div class="container">
    <footer class="py-3 my-4">
        <p class="text-center text-muted">&copy; 2024 DanilkaXs, Inc</p>
    </footer>
</div>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
